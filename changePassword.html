<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="shortcut icon"
      href="./faviconImages/android-chrome-192x192.png"
      type="image/x-icon"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Forgot Password</title>
  </head>
  <body class="bg-gray-800 bg-cover bg-center bg-fixed p-5">
    <div class="flex justify-center items-center min-h-screen">
      <div
        class="relative p-10 h-[550px] w-[350px] bg-gray-900 border-[1px] border-gray-700 rounded-[30px] shadow-lg"
      >
        <!-- Home Button -->
        <div class="w-full flex items-center justify-center">
          <button
            class="px-4 py-2 mb-4 bg-red-600 hover:bg-red-700 text-white rounded-lg"
          >
            <a href="./homepageVid.html">Home</a>
          </button>
        </div>

        <div class="text-center mb-6 text-gray-300">
          <h3 class="text-2xl font-bold">Reset Password</h3>
          <small class="text-gray-500">Please enter your new password</small>
        </div>

        <form
          action="/reset-password"
          id="changePassForm"
          enctype="multipart/form-data"
          method="post"
          class="space-y-4"
        >
          <!-- Old Password -->
          <div class="relative">
            <label for="oldPassword" class="block text-gray-100"
              >Old Password</label
            >
            <input
              type="password"
              class="w-full h-[45px] text-[15px] text-black border-none rounded-lg p-2 bg-[rgba(224,223,223,0.6)] backdrop-blur-[2px] focus:outline-none focus:ring-2 focus:ring-blue-500"
              id="oldPassword"
              name="oldPassword"
              required
            />
            <div
              class="absolute inset-y-0 right-0 flex items-center px-2 pt-[25px] cursor-pointer"
              onclick="togglePasswordVisibility('oldPassword', 'eye-old', 'eye-slash-old')"
            >
              <i class="fa-regular fa-eye" id="eye-old"></i>
              <i class="fa-regular fa-eye-slash hidden" id="eye-slash-old"></i>
            </div>
          </div>

          <!-- New Password -->
          <div class="relative">
            <label for="newPassword" class="block text-gray-100"
              >New Password</label
            >
            <input
              type="password"
              class="w-full h-[45px] text-[15px] text-black border-none rounded-lg p-2 bg-[rgba(224,223,223,0.6)] backdrop-blur-[2px] focus:outline-none focus:ring-2 focus:ring-blue-500"
              id="newPassword"
              name="newPassword"
              required
            />
            <div
              class="absolute inset-y-0 right-0 flex items-center px-2 pt-[25px] cursor-pointer"
              onclick="togglePasswordVisibility('newPassword', 'eye-new', 'eye-slash-new')"
            >
              <i class="fa-regular fa-eye" id="eye-new"></i>
              <i class="fa-regular fa-eye-slash hidden" id="eye-slash-new"></i>
            </div>
          </div>

          <!-- Confirm New Password -->
          <div class="relative">
            <label for="confirmPassword" class="block text-gray-100"
              >Confirm New Password</label
            >
            <input
              type="password"
              class="w-full h-[45px] text-[15px] text-black border-none rounded-lg p-2 bg-[rgba(224,223,223,0.6)] backdrop-blur-[2px] focus:outline-none focus:ring-2 focus:ring-blue-500"
              id="confirmPassword"
              name="confirmPassword"
              required
            />
            <div
              class="absolute inset-y-0 right-0 flex items-center px-2 pt-[25px] cursor-pointer"
              onclick="togglePasswordVisibility('confirmPassword', 'eye-confirm', 'eye-slash-confirm')"
            >
              <i class="fa-regular fa-eye" id="eye-confirm"></i>
              <i
                class="fa-regular fa-eye-slash hidden"
                id="eye-slash-confirm"
              ></i>
            </div>
          </div>

          <!-- Submit Button -->
          <div>
            <button
              type="submit"
              class="w-full h-[48px] mt-[20px] bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-3 px-6 rounded-md shadow-lg transition-colors"
            >
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Loader -->
    <div
      id="loader"
      class="w-full h-full fixed inset-0 bg-gray-900 bg-opacity-50 hidden flex items-center justify-center"
    >
      <div
        class="animate-spin rounded-full h-20 w-20 border-t-4 border-blue-500"
      ></div>
    </div>

    <!-- Scripts for eye toggle -->
    <script>
      function togglePasswordVisibility(inputId, eyeId, eyeSlashId) {
        const input = document.getElementById(inputId);
        const eye = document.getElementById(eyeId);
        const eyeSlash = document.getElementById(eyeSlashId);

        if (input.type === 'password') {
          input.type = 'text';
          eye.classList.add('hidden');
          eyeSlash.classList.remove('hidden');
        } else {
          input.type = 'password';
          eye.classList.remove('hidden');
          eyeSlash.classList.add('hidden');
        }
      }
    </script>

    <!-- all Scripts atteched -->
    <script type="module" src="./userApiHandler/3.changePass.user.js"></script>
  </body>
</html>
